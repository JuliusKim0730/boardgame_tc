# 🔍 방 생성 안되는 문제 디버깅

## 📊 확인 사항

### 1. Render 백엔드 상태 확인

#### Health Check
브라우저에서 접속:
```
https://boardgame-backend.onrender.com/api/health
```

**예상 응답:**
```json
{
  "status": "ok",
  "version": "4.1.0"
}
```

**만약 접속 안되면:**
- Render Dashboard → boardgame-backend → Logs 확인
- "Your service is live" 메시지 있는지 확인

---

### 2. 브라우저 콘솔 확인

#### 콘솔 열기
1. F12 키 누르기
2. "Console" 탭 선택

#### 확인할 내용
```
API_BASE: https://boardgame-backend.onrender.com/api
SOCKET_URL: https://boardgame-backend.onrender.com
```

**만약 localhost가 보이면:**
- Vercel 재배포 필요
- 브라우저 캐시 삭제 필요

---

### 3. Network 탭 확인

#### Network 탭 열기
1. F12 → "Network" 탭
2. 방 만들기 버튼 클릭
3. 요청 확인

#### 확인할 내용
- **요청 URL**: `https://boardgame-backend.onrender.com/api/rooms`
- **상태 코드**: 200 (성공) 또는 에러 코드
- **응답**: 에러 메시지 확인

---

## 🐛 가능한 문제들

### 문제 1: Render 백엔드가 아직 배포 중
**증상**: Health Check 접속 안됨

**해결**:
1. Render Dashboard 확인
2. 배포 완료 대기 (5-10분)
3. 로그에서 "Your service is live" 확인

---

### 문제 2: 프론트엔드가 localhost 호출
**증상**: Console에 `localhost:3000` 보임

**해결**:
1. Vercel Dashboard → Deployments
2. 최신 배포 → "Redeploy"
3. 브라우저 캐시 삭제 (Ctrl + Shift + Delete)
4. 시크릿 모드로 테스트

---

### 문제 3: CORS 에러
**증상**: Console에 "CORS policy" 에러

**해결**:
1. Render 환경 변수 확인
2. `CLIENT_URL` 값 확인
3. Vercel URL과 일치하는지 확인

---

### 문제 4: 데이터베이스 연결 실패
**증상**: 500 에러, "Database connection failed"

**해결**:
1. Render 환경 변수 확인
2. DB_HOST, DB_PORT, DB_PASSWORD 재확인
3. Supabase 연결 테스트

---

### 문제 5: 슬립 모드
**증상**: 첫 요청이 30초 이상 걸림

**해결**:
- 정상입니다! Render Free 플랜은 15분 비활성 시 슬립
- 첫 요청 후 정상 작동

---

## 🔧 즉시 확인할 것

### 1단계: Render Health Check
```
https://boardgame-backend.onrender.com/api/health
```

### 2단계: 브라우저 콘솔
```
F12 → Console 탭
API_BASE 확인
에러 메시지 확인
```

### 3단계: Network 탭
```
F12 → Network 탭
방 만들기 클릭
요청 URL 확인
응답 확인
```

---

## 📝 에러 메시지 수집

다음 정보를 확인해주세요:

1. **Render Health Check 결과**
   - 접속 가능? Y/N
   - 응답 내용

2. **브라우저 Console**
   - API_BASE 값
   - 에러 메시지 (있다면)

3. **Network 탭**
   - 요청 URL
   - 상태 코드
   - 응답 내용

---

**이 정보를 확인한 후 알려주시면 정확한 해결책을 드리겠습니다!** 🔍
