# ✅ v4.1 배포 체크리스트

## 📋 배포 전 최종 확인

### Phase 1: 데이터베이스 ✅
- [x] 마이그레이션 실행 완료
- [ ] 카드 시드 실행 완료
- [ ] 검증 쿼리 실행 완료
- [ ] 모든 검증 통과

**검증 명령**:
```sql
-- VERIFY_MIGRATION.sql 실행
```

---

### Phase 2: 백엔드 서버 ⏳
- [ ] 서버 시작 성공
- [ ] 데이터베이스 연결 확인
- [ ] API 엔드포인트 응답 확인
- [ ] 에러 로그 없음

**시작 명령**:
```bash
cd backend
npm run dev
```

**확인 URL**:
- Health Check: `http://localhost:3000/api/health` (있다면)
- API Base: `http://localhost:3000/api`

---

### Phase 3: 프론트엔드 서버 ⏳
- [ ] 서버 시작 성공
- [ ] 컴파일 에러 없음
- [ ] 브라우저 접속 가능
- [ ] 콘솔 에러 없음

**시작 명령**:
```bash
cd frontend
npm run dev
```

**확인 URL**:
- Frontend: `http://localhost:5173`

---

### Phase 4: 기능 검증 ⏳

#### 4.1 기본 기능
- [ ] 방 생성 가능
- [ ] 방 참여 가능
- [ ] 게임 시작 가능
- [ ] 초기 자금 3,000TC 확인

#### 4.2 v4.1 신규 기능
- [ ] 결심 토큰 0~2개 표시
- [ ] 여행 지원 카드 명칭 확인
- [ ] 집안일 수익 1,500~2,000TC
- [ ] 2인 플레이 감지

#### 4.3 2인 전용 규칙 (2인 게임)
- [ ] 찬스 칸 선택 모달 표시
- [ ] 500TC 선택 옵션 작동
- [ ] 집안일 첫 방문 보너스
- [ ] CH11/12/13 덱에서 제거

#### 4.4 최종 정산
- [ ] 비주류 특성 변환 모달 표시
- [ ] 변환 계산 정확
- [ ] 동률 규정 적용
- [ ] 결과 화면 정상 표시

---

## 🧪 필수 테스트 시나리오

### Scenario 1: 2인 게임 전체 플로우
```
1. 방 생성 (플레이어 A)
2. 방 참여 (플레이어 B)
3. 게임 시작
4. 초기 자금 3,000TC 확인
5. 찬스 칸 이동 → 선택 모달 확인
6. 집안일 칸 첫 방문 → 보너스 확인
7. 14일차 완료
8. 비주류 특성 변환 → 모달 확인
9. 최종 결과 확인
```

**예상 소요 시간**: 10분

**체크포인트**:
- [ ] 모든 단계 정상 작동
- [ ] 에러 없음
- [ ] UI 정상 표시

---

### Scenario 2: 4인 게임 회귀 테스트
```
1. 방 생성 + 4명 참여
2. 게임 시작
3. 기존 기능 정상 작동 확인
4. CH11/12/13 카드 정상 작동
5. 공동 목표 패널티 적용 확인
```

**예상 소요 시간**: 15분

**체크포인트**:
- [ ] 기존 기능 정상
- [ ] 새 기능과 충돌 없음

---

## 🚨 긴급 롤백 절차

### 문제 발생 시

#### 1. 서버 중지
```bash
# 백엔드/프론트엔드 서버 중지
Ctrl + C
```

#### 2. 데이터베이스 롤백
```sql
-- migration_v4.1.sql의 롤백 섹션 실행
-- 또는 백업에서 복원
```

#### 3. 코드 롤백
```bash
git revert <commit-hash>
# 또는
git reset --hard <previous-commit>
```

#### 4. 재시작
```bash
cd backend && npm run dev
cd frontend && npm run dev
```

---

## 📊 배포 상태

### 현재 상태: 🟡 배포 준비 중

| 단계 | 상태 | 완료 시간 |
|------|------|----------|
| 데이터베이스 마이그레이션 | ✅ 완료 | _________ |
| 카드 데이터 시드 | ⏳ 대기 | _________ |
| 백엔드 서버 시작 | ⏳ 대기 | _________ |
| 프론트엔드 서버 시작 | ⏳ 대기 | _________ |
| 기능 검증 | ⏳ 대기 | _________ |
| 테스트 시나리오 | ⏳ 대기 | _________ |

---

## 🎯 배포 완료 조건

### 필수 조건 (Must Have)
- [x] 데이터베이스 마이그레이션 성공
- [ ] 카드 데이터 시드 성공
- [ ] 서버 정상 시작
- [ ] 초기 자금 3,000TC 확인
- [ ] 2인 게임 전체 플로우 테스트 통과

### 권장 조건 (Should Have)
- [ ] 4인 게임 회귀 테스트 통과
- [ ] 모든 신규 기능 검증
- [ ] 성능 이슈 없음
- [ ] 에러 로그 없음

### 선택 조건 (Nice to Have)
- [ ] 전체 테스트 시나리오 12개 통과
- [ ] 부하 테스트 통과
- [ ] 사용자 피드백 수집

---

## 📝 배포 로그

### 배포 정보
- **배포 일시**: 2024년 12월 1일
- **배포자**: _____________
- **버전**: v4.1
- **환경**: Development / Staging / Production

### 실행 로그
```
[시간] 데이터베이스 마이그레이션 시작
[시간] 마이그레이션 완료 ✅
[시간] 카드 시드 시작
[시간] 카드 시드 완료
[시간] 백엔드 서버 시작
[시간] 프론트엔드 서버 시작
[시간] 기능 검증 시작
[시간] 테스트 완료
[시간] 배포 완료 🎉
```

### 발견된 이슈
```
이슈 #1: _____________
해결: _____________

이슈 #2: _____________
해결: _____________
```

---

## ✅ 최종 승인

### 배포 승인자
- [ ] 개발자: _____________
- [ ] 테스터: _____________
- [ ] PM: _____________

### 배포 완료 확인
- [ ] 모든 필수 조건 충족
- [ ] 테스트 통과
- [ ] 문서 업데이트
- [ ] 팀 공지 완료

**배포 완료 시간**: _____________

---

## 🎊 배포 완료!

```
 ____             _                                    _   
|  _ \  ___ _ __ | | ___  _   _ _ __ ___   ___ _ __ | |_ 
| | | |/ _ \ '_ \| |/ _ \| | | | '_ ` _ \ / _ \ '_ \| __|
| |_| |  __/ |_) | | (_) | |_| | | | | | |  __/ | | | |_ 
|____/ \___| .__/|_|\___/ \__, |_| |_| |_|\___|_| |_|\__|
           |_|            |___/                           
                                                          
              v4.1 배포 완료! 🌙✨
```

**축하합니다! 이제 게임을 즐기세요!** 🎮🎉

---

**문서 버전**: 1.0  
**최종 수정**: 2024년 12월 1일  
**상태**: 🟡 진행 중 → 🟢 완료 대기
