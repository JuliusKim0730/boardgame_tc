# Google AI Studio 참고 문서

## 개요

이 폴더는 "열네 밤의 꿈" 프로젝트를 Google AI Studio로 옮겨서 추가 개발할 때 참고할 수 있도록 작성된 종합 문서입니다.

## 문서 구조

### 📘 [00_프로젝트_개요.md](./00_프로젝트_개요.md)
**프로젝트 전체 개요**
- 프로젝트 정보 및 컨셉
- 기술 스택
- 프로젝트 구조
- 개발 현황
- 배포 환경
- 주요 문서 링크

**읽어야 할 때**: 프로젝트를 처음 접할 때

### 📘 [01_데이터베이스_구조.md](./01_데이터베이스_구조.md)
**데이터베이스 스키마 상세**
- 13개 주요 테이블 구조
- 테이블 간 관계
- JSONB 필드 구조
- 인덱스 정보
- 데이터 흐름
- 마이그레이션 가이드

**읽어야 할 때**: DB 관련 작업을 할 때

### 📘 [02_백엔드_아키텍처.md](./02_백엔드_아키텍처.md)
**백엔드 서비스 구조**
- 9개 주요 서비스 상세
- 각 서비스의 책임과 메서드
- WebSocket 이벤트
- 에러 처리
- 환경 변수
- 배포 설정

**읽어야 할 때**: 백엔드 로직을 수정하거나 추가할 때

### 📘 [03_프론트엔드_구조.md](./03_프론트엔드_구조.md)
**프론트엔드 컴포넌트 구조**
- React 컴포넌트 상세
- API 서비스
- WebSocket 연동
- 스타일링
- 환경 변수
- 빌드 & 배포

**읽어야 할 때**: UI/UX를 수정하거나 추가할 때

### 📘 [04_게임_플로우.md](./04_게임_플로우.md)
**게임 진행 흐름 상세**
- 로비 → 대기실 → 게임 → 결과 전체 흐름
- 턴 시작/이동/행동/종료 상세
- 특수 이벤트 (7일차, 2인 전용)
- 최종 정산 프로세스
- AI 플레이어 흐름
- 에러 처리 및 동시성 제어

**읽어야 할 때**: 게임 로직을 이해하거나 수정할 때

### 📘 [05_API_명세.md](./05_API_명세.md)
**REST API & WebSocket 명세**
- 22개 REST API 엔드포인트
- 요청/응답 예시
- WebSocket 이벤트 목록
- 에러 응답
- CORS 설정

**읽어야 할 때**: API를 호출하거나 새로운 API를 추가할 때

### 📘 [06_카드_시스템.md](./06_카드_시스템.md)
**카드 시스템 상세**
- 7가지 카드 타입 (107장)
- 카드 효과 및 메타데이터
- 덱 시스템
- 손패 관리
- 구매 시스템
- 점수 계산
- 특성 변환
- 카드 추가 가이드

**읽어야 할 때**: 카드 관련 작업을 할 때

### 📘 [07_개발_가이드.md](./07_개발_가이드.md)
**개발 환경 설정 및 가이드**
- 로컬 개발 환경 설정
- 개발 워크플로우
- 디버깅 방법
- 테스트 시나리오
- 배포 가이드
- 트러블슈팅
- 코드 스타일
- 추가 개발 아이디어

**읽어야 할 때**: 개발 환경을 설정하거나 새로운 기능을 추가할 때

## 빠른 시작

### 1. 프로젝트 이해
```
00_프로젝트_개요.md → 04_게임_플로우.md
```

### 2. 개발 환경 설정
```
07_개발_가이드.md (로컬 개발 환경 설정)
```

### 3. 기능 추가
```
백엔드: 02_백엔드_아키텍처.md + 05_API_명세.md
프론트엔드: 03_프론트엔드_구조.md
카드: 06_카드_시스템.md
DB: 01_데이터베이스_구조.md
```

## 주요 개념

### 게임 메커니즘
- **14일 턴제**: 각 플레이어가 14턴 진행
- **6칸 보드**: 1~6번 칸을 순환하며 이동
- **카드 수집**: 손패에 카드를 모아 최종 구매
- **특성 시스템**: 6가지 특성 + 추억
- **여행지 테마**: 특성 가중치 (x1, x2, x3)
- **공동 계획**: 10,000TC 목표 달성

### 기술 스택
- **Backend**: Node.js + Express + TypeScript + Socket.io
- **Frontend**: React + TypeScript + Vite
- **Database**: PostgreSQL (Supabase)
- **Deployment**: Render (Backend) + Vercel (Frontend)

### 핵심 서비스
1. **RoomService**: 방 생성/참여
2. **GameSetupService**: 게임 초기화
3. **TurnService**: 턴 행동 처리
4. **TurnManager**: 턴 관리 & 락
5. **ChanceService**: 찬스 카드
6. **JointPlanService**: 공동 계획
7. **GameFinalizationService**: 최종 정산
8. **AIPlayerService**: AI 플레이어
9. **AIScheduler**: AI 스케줄러

### 데이터 흐름
```
방 생성 → 플레이어 참여 → 게임 시작 (초기화)
→ 턴 루프 (14일)
  - 턴 시작 → 이동 → 행동 → 턴 종료
→ 최종 정산
  - 최종 구매 → 특성 변환 → 점수 계산
→ 결과 화면
```

## Google AI Studio 사용 팁

### 1. 컨텍스트 제공
프롬프트에 관련 문서를 첨부하세요:
```
"02_백엔드_아키텍처.md를 참고하여 새로운 서비스를 추가해줘"
"06_카드_시스템.md를 참고하여 새로운 카드를 추가해줘"
```

### 2. 구체적인 요청
```
❌ "게임 기능을 추가해줘"
✅ "04_게임_플로우.md를 참고하여 결심 토큰 사용 로직을 수정해줘"
```

### 3. 단계별 진행
```
1단계: "01_데이터베이스_구조.md를 참고하여 새 테이블 스키마를 작성해줘"
2단계: "02_백엔드_아키텍처.md를 참고하여 서비스 로직을 작성해줘"
3단계: "05_API_명세.md를 참고하여 API 엔드포인트를 추가해줘"
```

### 4. 코드 검증
```
"작성한 코드가 기존 구조와 호환되는지 확인해줘"
"07_개발_가이드.md의 코드 스타일을 따르는지 확인해줘"
```

## 자주 묻는 질문

### Q1: 새로운 카드를 추가하려면?
**A**: `06_카드_시스템.md`의 "카드 추가 가이드" 참고

### Q2: 새로운 API를 추가하려면?
**A**: `07_개발_가이드.md`의 "기능 추가 → 백엔드" 참고

### Q3: 데이터베이스 스키마를 변경하려면?
**A**: `07_개발_가이드.md`의 "데이터베이스 변경" 참고

### Q4: AI 플레이어 전략을 수정하려면?
**A**: `02_백엔드_아키텍처.md`의 "AIPlayerService" 참고

### Q5: 프론트엔드 컴포넌트를 추가하려면?
**A**: `03_프론트엔드_구조.md` 참고

### Q6: 게임 규칙을 이해하려면?
**A**: `04_게임_플로우.md` + `rulebook/게임_규칙.md` 참고

### Q7: 배포하려면?
**A**: `07_개발_가이드.md`의 "배포" 섹션 참고

### Q8: 로컬 환경에서 에러가 발생하면?
**A**: `07_개발_가이드.md`의 "트러블슈팅" 참고

## 추가 리소스

### 프로젝트 루트 문서
- `README.md` - 프로젝트 개요
- `QUICK_START_UPDATED.md` - 빠른 시작
- `LOCAL_ISSUE_FIX_GUIDE.md` - 로컬 이슈 해결
- `CARD_CODES.md` - 카드 코드 목록

### 워크플로우 문서
- `workflows/1.00_로비_방관리.md`
- `workflows/2.00_게임세팅_초기화.md`
- `workflows/3.00_턴루프_카드행동.md`
- `workflows/4.00_최종정산_리플레이.md`
- `workflows/5.00_동시성_예외복구.md`

### 구현 완료 보고서
- `FINAL_COMPLETION_REPORT_V4.1.md` - 최종 완료 보고서
- `IMPLEMENTATION_COMPLETE_V4.1.md` - 구현 완료 상세
- `AI_PLAYER_ALGORITHM_COMPLETE.md` - AI 알고리즘
- `HAND_CARDS_AND_AI_FIX.md` - 최근 수정 사항

## 문서 업데이트

이 문서는 2024년 12월 3일 기준으로 작성되었습니다.

프로젝트가 업데이트되면 이 문서도 함께 업데이트해야 합니다:
- 새로운 기능 추가 시
- API 변경 시
- 데이터베이스 스키마 변경 시
- 배포 환경 변경 시

## 라이선스

MIT License

## 기여

이 문서에 대한 개선 사항이 있다면 PR을 보내주세요!
