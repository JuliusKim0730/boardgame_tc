# 게임 플로우 수정 가이드

## 문제 상황
1. ❌ 여행지 카드 정보가 표시되지 않음
2. ❌ 누구 턴인지 표시되지 않음
3. ❌ 이동 지역 선택이 불가능
4. ❌ 게임이 멈춰있음

## 수정 완료 사항

### 1. GameBoard.tsx
- ✅ 인접한 칸을 밝게 표시 (애니메이션 효과)
- ✅ 클릭 가능한 칸 강조
- ✅ 현재 위치 표시

### 2. GameScreen.tsx
- ✅ 여행지 카드를 우측 상단에 표시
- ✅ 현재 턴 플레이어 강조 표시
- ✅ 플레이어 목록에 턴 순서 표시
- ✅ 이동 후 자동으로 행동 수행
- ✅ 메시지 바에 턴 상태 표시

### 3. CSS 개선
- ✅ 여행지 카드 컴팩트 디자인
- ✅ 현재 턴 플레이어 하이라이트
- ✅ 보드 힌트 메시지
- ✅ 인접 칸 펄스 애니메이션

## 남은 문제

### TypeScript 에러
GameScreen.tsx에 JSX 구문 에러가 있습니다. 파일을 백업하고 재작성이 필요합니다.

## 임시 해결 방법

### 1. 백엔드 재시작
```bash
cd backend
npm run dev
```

### 2. 프론트엔드 재시작
```bash
cd frontend
npm run dev
```

### 3. 브라우저 캐시 클리어
- F12 → Application → Clear storage

## 게임 플로우 (정상 작동 시)

### 턴 진행
```
1. 선 플레이어 턴 시작
   - 메시지: "당신의 턴입니다"
   - 인접한 칸이 밝게 표시됨
   
2. 플레이어가 인접한 칸 클릭
   - 말이 해당 칸으로 이동
   - 메시지: "X번 칸으로 이동했습니다"
   
3. 자동으로 행동 수행 (0.5초 후)
   - 해당 칸의 행동 실행
   - 카드 드로우 또는 TC 획득
   
4. 자동으로 턴 종료 (1.5초 후)
   - 다음 플레이어에게 턴 넘김
   - WebSocket으로 모든 플레이어에게 알림
```

### 턴 순서
- 슬롯 순서대로 진행 (turn_order 기준)
- Day가 바뀌면 다음 슬롯이 선턴
- 예: Day 1 → 플레이어1 선턴, Day 2 → 플레이어2 선턴

## 다음 작업

1. GameScreen.tsx JSX 에러 수정
2. WebSocket 연결 안정화
3. 턴 진행 테스트
4. AI 플레이어 자동 턴 테스트
5. 14일차 종료 및 결산 테스트

## 참고 사항

### 인접 칸 규칙
```
1번: [2]
2번: [1, 3, 4]
3번: [2, 5]
4번: [2, 6]
5번: [3, 6]
6번: [4, 5]
```

### 행동 칸
1. 무료 계획 - 무료 계획 카드 1장
2. 조사하기 - 일반 계획 카드 1장 (손패)
3. 집안일 - 1,500~2,000TC
4. 여행 지원 - TC 변동 (±1,000~4,000TC)
5. 찬스 - 찬스 카드 1장 (2인: 500TC 선택 가능)
6. 자유 행동 - 1~5번 중 선택

### 2인 전용 규칙
- 찬스 칸: 카드 OR 500TC 선택
- 집안일 첫 방문: +500TC 보너스
- 공동 목표 실패 시 패널티 없음
