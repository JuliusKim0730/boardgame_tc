# 🧪 v4.1 테스트 시나리오

## 📋 개요
v4.1 업데이트의 모든 기능을 검증하기 위한 테스트 시나리오입니다.

---

## 🎯 테스트 목표

### 핵심 검증 항목
1. ✅ 초기 자금 3,000TC
2. ✅ 집안일 수익 1,500~2,000TC
3. ✅ 여행 지원 카드 정상 작동
4. ✅ 2인 전용 규칙 (찬스 선택, 집안일 보너스, 패널티 면제)
5. ✅ 비주류 특성 변환
6. ✅ 결심 토큰 0~2개 관리
7. ✅ CH19 "반전의 기회"
8. ✅ 동률 규정

---

## 🧪 테스트 시나리오

### Scenario 1: 기본 게임 초기화 테스트

**목적**: 초기 자금 및 기본 설정 확인

**단계**:
1. 방 생성
2. 플레이어 2명 참여
3. 게임 시작

**검증**:
- [ ] 각 플레이어 초기 자금 3,000TC
- [ ] 결심 토큰 1개 표시
- [ ] 여행지 카드 1장 공개
- [ ] 공동 목표 카드 1장 공개
- [ ] 일반 계획 카드 1장 손에 있음

**예상 결과**: 모든 플레이어가 3,000TC로 시작

---

### Scenario 2: 2인 전용 찬스 칸 테스트

**목적**: 2인 플레이 시 찬스 칸 선택 옵션 확인

**사전 조건**: 2인 게임 진행 중

**단계**:
1. 5번 찬스 칸으로 이동
2. 행동 선택 (5번)
3. 모달 표시 확인
4. "500TC" 선택
5. 돈 증가 확인

**검증**:
- [ ] 찬스 칸 도착 시 선택 모달 표시
- [ ] "찬스 카드" / "500TC" 두 옵션 표시
- [ ] 500TC 선택 시 즉시 반영
- [ ] 찬스 카드 선택 시 카드 획득

**예상 결과**: 선택한 옵션에 따라 정확히 처리됨

---

### Scenario 3: 집안일 첫 방문 보너스 테스트 (2인)

**목적**: 2인 플레이 시 집안일 첫 방문 +500TC 확인

**사전 조건**: 2인 게임, 집안일 칸 미방문

**단계**:
1. 3번 집안일 칸으로 이동
2. 행동 선택 (3번)
3. 집안일 카드 수익 확인
4. 추가 보너스 500TC 확인

**검증**:
- [ ] 집안일 카드 수익: 1,500 또는 2,000TC
- [ ] 첫 방문 보너스: +500TC
- [ ] 총 수익: 2,000 또는 2,500TC
- [ ] 알림 메시지 표시
- [ ] 두 번째 방문 시 보너스 없음

**예상 결과**: 첫 방문 시에만 +500TC 추가

---

### Scenario 4: 여행 지원 카드 테스트

**목적**: 새로운 여행 지원 카드 정상 작동 확인

**단계**:
1. 4번 여행 지원 칸으로 이동
2. 행동 선택 (4번)
3. 카드 효과 확인

**검증**:
- [ ] Y1~Y8: 양수 수익 (2,500~4,000TC)
- [ ] Y9~Y16: 음수 지출 (-1,000~-2,000TC)
- [ ] 감성 스토리 메시지 표시
- [ ] 돈 즉시 반영

**예상 결과**: 카드에 따라 수익 또는 지출 발생

---

### Scenario 5: CH19 "반전의 기회" 테스트

**목적**: 새로운 찬스 카드 동작 확인

**단계**:
1. 찬스 칸에서 CH19 카드 획득
2. 카드 사용
3. 현재 위치에서 행동 1회 추가 수행

**검증**:
- [ ] 이동 없이 현재 칸에서 행동 가능
- [ ] 행동 1회 추가 수행
- [ ] 정상적으로 턴 종료

**예상 결과**: 현재 칸에서 행동 1회 추가

---

### Scenario 6: 2인 전용 금지 카드 테스트

**목적**: CH11/12/13 카드 2인 플레이 차단 확인

**사전 조건**: 2인 게임

**단계**:
1. 찬스 덱에 CH11/12/13 없음 확인
2. (만약 뽑았다면) 사용 시 에러 메시지

**검증**:
- [ ] 게임 시작 시 CH11/12/13 덱에서 제거됨
- [ ] 사용 시도 시 "2인 플레이에서 사용 불가" 메시지

**예상 결과**: 2인 플레이에서 해당 카드 사용 불가

---

### Scenario 7: 결심 토큰 회복 테스트

**목적**: 7일차 시작 시 결심 토큰 회복 확인

**사전 조건**: 1~6일차 동안 결심 토큰 미사용

**단계**:
1. 1~6일차 동안 결심 토큰 사용하지 않음
2. 7일차 시작
3. 결심 토큰 개수 확인

**검증**:
- [ ] 1~6일차 미사용 시 7일차에 +1개
- [ ] 최대 2개까지만 보유
- [ ] 사용한 플레이어는 회복 없음
- [ ] 알림 메시지 표시

**예상 결과**: 미사용자만 토큰 1개 회복

---

### Scenario 8: 결심 토큰 표시 테스트

**목적**: 결심 토큰 UI 정상 표시 확인

**단계**:
1. 게임 시작 (토큰 1개)
2. 토큰 사용 (0개)
3. 7일차 회복 (1개)
4. 다시 사용 (0개)

**검증**:
- [ ] 토큰 개수 정확히 표시 (0~2)
- [ ] 🔥 아이콘 개수와 일치
- [ ] "X/2" 카운트 표시
- [ ] 실시간 업데이트

**예상 결과**: 토큰 개수가 정확히 표시됨

---

### Scenario 9: 비주류 특성 변환 테스트

**목적**: 최종 정산 시 비주류 특성 변환 확인

**사전 조건**: 14일차 종료, 가중치 1배 특성 보유

**단계**:
1. 14일차 종료
2. 최종 구매 완료
3. 비주류 특성 변환 모달 표시
4. 변환 횟수 선택 (예: 2회)
5. 확인

**검증**:
- [ ] 가중치 1배 특성만 표시
- [ ] 변환 가능 횟수 자동 계산 (총점수 / 3)
- [ ] 변환 미리보기 표시
- [ ] 변환 후 추억 점수 증가
- [ ] 특성 점수 감소 (-3 per 변환)

**예상 결과**: 특성 3점 → 추억 +1 정확히 변환

---

### Scenario 10: 공동 목표 2인 패널티 면제 테스트

**목적**: 2인 플레이 시 공동 목표 실패해도 패널티 없음 확인

**사전 조건**: 2인 게임, 공동 목표 실패 예상

**단계**:
1. 공동 목표에 적게 기여
2. 목표 실패
3. 패널티 확인

**검증**:
- [ ] 공동 목표 실패
- [ ] 추억 -2 패널티 없음
- [ ] 3인 이상에서는 패널티 적용

**예상 결과**: 2인 플레이에서만 패널티 면제

---

### Scenario 11: 동률 규정 테스트

**목적**: 동점 시 추억 → TC 순서로 판정 확인

**사전 조건**: 최종 점수 동점 상황

**단계**:
1. 최종 점수 동점 발생
2. 순위 확인

**검증**:
- [ ] 1순위: 최종 행복 점수
- [ ] 동점 시 2순위: 추억 점수
- [ ] 동점 시 3순위: 남은 TC
- [ ] 모두 동점 시: 공동 우승

**예상 결과**: 동률 규정에 따라 정확히 순위 결정

---

### Scenario 12: 14일차 필수 행동 테스트

**목적**: 14일차에도 이동 & 행동 필수 수행 확인

**단계**:
1. 14일차 시작
2. 이동 & 행동 수행
3. 모든 플레이어 턴 완료
4. 최종 정산 시작

**검증**:
- [ ] 14일차에도 이동 필수
- [ ] 14일차에도 행동 필수
- [ ] 모든 플레이어 완료 후 정산
- [ ] 자동으로 정산 화면 전환

**예상 결과**: 14일차 정상 진행 후 정산

---

## 🔄 회귀 테스트 (기존 기능)

### Regression 1: 3~5인 플레이 정상 작동
- [ ] 3인 게임 정상 시작
- [ ] 4인 게임 정상 시작
- [ ] 5인 게임 정상 시작
- [ ] 공동 목표 패널티 정상 적용

### Regression 2: 기존 찬스 카드 정상 작동
- [ ] CH1~CH10 정상 작동
- [ ] CH11~CH13 (3인 이상) 정상 작동
- [ ] CH14~CH18 정상 작동
- [ ] CH20~CH25 정상 작동

### Regression 3: 기본 게임 플로우
- [ ] 이동 제약 정상 작동
- [ ] 행동 칸 1~6 정상 작동
- [ ] 턴 순서 정상 진행
- [ ] 공동 계획 기여 정상 작동

---

## 📊 테스트 결과 기록

### 테스트 환경
- 날짜: ___________
- 테스터: ___________
- 브라우저: ___________
- 데이터베이스: Supabase

### 결과 요약

| 시나리오 | 상태 | 비고 |
|---------|------|------|
| S1: 기본 초기화 | ⬜ | |
| S2: 2인 찬스 선택 | ⬜ | |
| S3: 집안일 보너스 | ⬜ | |
| S4: 여행 지원 카드 | ⬜ | |
| S5: CH19 | ⬜ | |
| S6: 2인 금지 카드 | ⬜ | |
| S7: 토큰 회복 | ⬜ | |
| S8: 토큰 표시 | ⬜ | |
| S9: 특성 변환 | ⬜ | |
| S10: 2인 패널티 면제 | ⬜ | |
| S11: 동률 규정 | ⬜ | |
| S12: 14일차 | ⬜ | |
| R1: 3~5인 플레이 | ⬜ | |
| R2: 기존 찬스 | ⬜ | |
| R3: 기본 플로우 | ⬜ | |

**범례**: ✅ 통과 | ❌ 실패 | ⚠️ 부분 통과 | ⬜ 미실행

---

## 🐛 버그 리포트 템플릿

### 버그 #___
**시나리오**: ___________
**재현 단계**:
1. 
2. 
3. 

**예상 결과**: ___________
**실제 결과**: ___________
**스크린샷**: ___________
**우선순위**: 🔴 High / 🟡 Medium / 🟢 Low

---

## ✅ 테스트 완료 체크리스트

### 사전 준비
- [ ] 데이터베이스 마이그레이션 완료
- [ ] 백엔드 서버 실행 중
- [ ] 프론트엔드 서버 실행 중
- [ ] 테스트 계정 준비

### 핵심 테스트
- [ ] Scenario 1~12 모두 실행
- [ ] 회귀 테스트 1~3 실행
- [ ] 버그 발견 시 리포트 작성

### 사후 정리
- [ ] 테스트 결과 문서화
- [ ] 발견된 버그 이슈 등록
- [ ] 다음 테스트 계획 수립

---

## 🎯 성공 기준

### 최소 요구사항 (MVP)
- ✅ 모든 핵심 시나리오 통과 (S1~S12)
- ✅ 치명적 버그 0개
- ✅ 회귀 테스트 통과

### 이상적 목표
- ✅ 모든 테스트 100% 통과
- ✅ 모든 버그 0개
- ✅ 성능 이슈 없음

---

## 📞 지원

테스트 중 문제 발생 시:
1. 버그 리포트 작성
2. 스크린샷 첨부
3. 콘솔 로그 확인
4. 개발팀에 전달

**Happy Testing! 🧪**
